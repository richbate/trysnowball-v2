/**
 * Analytics Hook with Demo Mode Support
 * Automatically adds demo_mode flag to all events
 */

import { useCallback } from 'react';
import { useDemoMode } from '../providers/DemoModeProvider';

export const useAnalyticsWithDemo = () => {
 const { isDemo } = useDemoMode();
 
 const capture = useCallback((eventName, properties = {}) => {
  if (!window.posthog) return;
  
  // Add demo_mode flag to all events
  window.posthog.capture(eventName, {
   ...properties,
   demo_mode: isDemo
  });
 }, [isDemo]);
 
 return { capture };
};