import React from 'react';
import { Target, X } from 'lucide-react';

export default function FocusSelect({ debts, focusedDebtId, onChange }) {
 
 if (!debts || debts.length === 0) return null;
 
 const focusedDebt = debts.find(d => d.id === focusedDebtId || d.name === focusedDebtId);
 
 return (
  <div className="flex items-center space-x-3 mb-4">
   <div className="flex items-center space-x-2">
    <Target className="w-4 h-4 text-muted" />
    <span className="text-sm font-medium text-secondary">
     Focus:
    </span>
   </div>
   
   <div className="flex items-center space-x-2">
    <select
     value={focusedDebtId || ''}
     onChange={(e) => onChange(e.target.value || null)}
     className="text-sm rounded-lg border border-border px-3 py-2 min-w-[180px] bg-surface text-text focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors duration-200"
    >
     <option value="">All debts</option>
     {debts.map(debt => (
      <option key={debt.id || debt.name} value={debt.id || debt.name}>
       {debt.name || debt.label}
      </option>
     ))}
    </select>
    
    {focusedDebtId && focusedDebt && (
     <div className="flex items-center space-x-2">
      <div className="px-3 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary border border-primary/20">
       Focused: {focusedDebt.name || focusedDebt.label}
      </div>
      <button
       onClick={() => onChange(null)}
       className="p-1 rounded-full transition-colors duration-200 bg-surface hover:bg-danger/10 text-muted hover:text-danger"
       title="Clear focus"
      >
       <X className="w-4 h-4" />
      </button>
     </div>
    )}
   </div>
  </div>
 );
}