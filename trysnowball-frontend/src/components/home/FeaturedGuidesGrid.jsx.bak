import React from 'react';
import { useNavigate } from 'react-router-dom';
import { BookOpen, TrendingUp, RefreshCw, AlertCircle } from 'lucide-react';
import { analytics } from '../../lib/posthog';

const FeaturedGuidesGrid = () => {
 const navigate = useNavigate();

 const guides = [
  {
   slug: 'money-makeover',
   title: 'Total Money Makeover',
   description: 'Learn the 7 Baby Steps method to financial freedom',
   icon: BookOpen,
   color: 'green'
  },
  {
   slug: 'debt-snowball-plan',
   title: 'Debt Snowball Method',
   description: 'Why paying smallest debts first works psychologically',
   icon: TrendingUp,
   color: 'blue'
  },
  {
   slug: 'how-to-update-balances',
   title: 'Keep Your Plan Current',
   description: 'How to update balances and track your progress',
   icon: RefreshCw,
   color: 'purple'
  },
  {
   slug: 'priority-debts-uk',
   title: 'UK Priority Debts',
   description: 'Which debts to pay first for UK residents',
   icon: AlertCircle,
   color: 'red'
  }
 ];

 const handleGuideClick = (slug) => {
  analytics.track('home_featured_clicked', {
   guide_slug: slug,
   timestamp: new Date().toISOString()
  });
  navigate(`/library/${slug}`);
 };

 const getColorClasses = (color) => {
  const colorMap = {
   green: 'bg-green-100 text-green-600 ',
   blue: 'bg-blue-100 text-blue-600 ',
   purple: 'bg-purple-100 text-purple-600 ',
   red: 'bg-red-100 text-red-600 '
  };
  return colorMap[color] || colorMap.blue;
 };

 return (
  <div className="mb-8">
   <h2 className="text-xl font-bold text-text mb-4">
    Featured Guides
   </h2>
   <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
    {guides.map((guide) => {
     const Icon = guide.icon;
     return (
      <button
       key={guide.slug}
       onClick={() => handleGuideClick(guide.slug)}
       className="bg-surface rounded-2xl border border-border shadow-sm p-6 text-left hover:shadow-md transition-shadow"
      >
       <div className="flex items-start gap-4">
        <div className={`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${getColorClasses(guide.color)}`}>
         <Icon className="w-5 h-5" />
        </div>
        <div className="flex-1">
         <h3 className="font-semibold text-text mb-1">
          {guide.title}
         </h3>
         <p className="text-sm text-secondary">
          {guide.description}
         </p>
        </div>
       </div>
      </button>
     );
    })}
   </div>
  </div>
 );
};

export default FeaturedGuidesGrid;